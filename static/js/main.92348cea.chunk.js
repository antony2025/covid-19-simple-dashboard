(this["webpackJsonpcovid-19-simple-dashboard"]=this["webpackJsonpcovid-19-simple-dashboard"]||[]).push([[0],{18:function(e,a,t){e.exports=t(35)},23:function(e,a,t){},24:function(e,a,t){},25:function(e,a,t){},26:function(e,a,t){},27:function(e,a,t){},28:function(e,a,t){},29:function(e,a,t){},35:function(e,a,t){"use strict";t.r(a);var n,r=t(0),o=t.n(r),l=t(16),i=t.n(l),c=t(10),s=(t(23),t(2)),u=t(3),d=t(4),m=t(5),h=t(1),p=(t(24),t(25),function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){var e=void 0===this.props.date?"":new Date(this.props.date).toString();return o.a.createElement("header",{className:"header"},o.a.createElement("h1",{className:"header__h1"},"COVID-19 Simple Dashboard"),o.a.createElement("h2",{className:"header__h2"},o.a.createElement("span",null,"Last updated: ",e),o.a.createElement("span",null,"Data updated daily")))}}]),t}(o.a.Component));t(26);!function(e){e[e.ASC=0]="ASC",e[e.DESC=1]="DESC"}(n||(n={}));var b=new Map([["AF","Afghanistan"],["AL","Albania"],["DZ","Algeria"],["AS","American Samoa"],["AD","Andorra"],["AO","Angola"],["AI","Anguilla"],["AQ","Antarctica"],["AG","Antigua and Barbuda"],["AR","Argentina"],["AM","Armenia"],["AW","Aruba"],["AU","Australia"],["AT","Austria"],["AZ","Azerbaijan"],["BS","Bahamas (the)"],["BH","Bahrain"],["BD","Bangladesh"],["BB","Barbados"],["BY","Belarus"],["BE","Belgium"],["BZ","Belize"],["BJ","Benin"],["BM","Bermuda"],["BT","Bhutan"],["BO","Bolivia (Plurinational State of)"],["BQ","Bonaire, Sint Eustatius and Saba"],["BA","Bosnia and Herzegovina"],["BW","Botswana"],["BV","Bouvet Island"],["BR","Brazil"],["IO","British Indian Ocean Territory (the)"],["BN","Brunei Darussalam"],["BG","Bulgaria"],["BF","Burkina Faso"],["BI","Burundi"],["CV","Cabo Verde"],["KH","Cambodia"],["CM","Cameroon"],["CA","Canada"],["KY","Cayman Islands (the)"],["CF","Central African Republic (the)"],["TD","Chad"],["CL","Chile"],["CN","China"],["CX","Christmas Island"],["CC","Cocos (Keeling) Islands (the)"],["CO","Colombia"],["KM","Comoros (the)"],["CD","Congo (the Democratic Republic of the)"],["CG","Congo (the)"],["CK","Cook Islands (the)"],["CR","Costa Rica"],["HR","Croatia"],["CU","Cuba"],["CW","Cura\xe7ao"],["CY","Cyprus"],["CZ","Czechia"],["CI","C\xf4te d'Ivoire"],["DK","Denmark"],["DJ","Djibouti"],["DM","Dominica"],["DO","Dominican Republic (the)"],["EC","Ecuador"],["EG","Egypt"],["SV","El Salvador"],["GQ","Equatorial Guinea"],["ER","Eritrea"],["EE","Estonia"],["SZ","Eswatini"],["ET","Ethiopia"],["FK","Falkland Islands (the) [Malvinas]"],["FO","Faroe Islands (the)"],["FJ","Fiji"],["FI","Finland"],["FR","France"],["GF","French Guiana"],["PF","French Polynesia"],["TF","French Southern Territories (the)"],["GA","Gabon"],["GM","Gambia (the)"],["GE","Georgia"],["DE","Germany"],["GH","Ghana"],["GI","Gibraltar"],["GR","Greece"],["GL","Greenland"],["GD","Grenada"],["GP","Guadeloupe"],["GU","Guam"],["GT","Guatemala"],["GG","Guernsey"],["GN","Guinea"],["GW","Guinea-Bissau"],["GY","Guyana"],["HT","Haiti"],["HM","Heard Island and McDonald Islands"],["VA","Holy See (the)"],["HN","Honduras"],["HK","Hong Kong"],["HU","Hungary"],["IS","Iceland"],["IN","India"],["ID","Indonesia"],["IR","Iran (Islamic Republic of)"],["IQ","Iraq"],["IE","Ireland"],["IM","Isle of Man"],["IL","Israel"],["IT","Italy"],["JM","Jamaica"],["JP","Japan"],["JE","Jersey"],["JO","Jordan"],["KZ","Kazakhstan"],["KE","Kenya"],["KI","Kiribati"],["KP","Korea (the Democratic People's Republic of)"],["KR","Korea (the Republic of)"],["KW","Kuwait"],["KG","Kyrgyzstan"],["LA","Lao People's Democratic Republic (the)"],["LV","Latvia"],["LB","Lebanon"],["LS","Lesotho"],["LR","Liberia"],["LY","Libya"],["LI","Liechtenstein"],["LT","Lithuania"],["LU","Luxembourg"],["MO","Macao"],["MG","Madagascar"],["MW","Malawi"],["MY","Malaysia"],["MV","Maldives"],["ML","Mali"],["MT","Malta"],["MH","Marshall Islands (the)"],["MQ","Martinique"],["MR","Mauritania"],["MU","Mauritius"],["YT","Mayotte"],["MX","Mexico"],["FM","Micronesia (Federated States of)"],["MD","Moldova (the Republic of)"],["MC","Monaco"],["MN","Mongolia"],["ME","Montenegro"],["MS","Montserrat"],["MA","Morocco"],["MZ","Mozambique"],["MM","Myanmar"],["NA","Namibia"],["NR","Nauru"],["NP","Nepal"],["NL","Netherlands (the)"],["NC","New Caledonia"],["NZ","New Zealand"],["NI","Nicaragua"],["NE","Niger (the)"],["NG","Nigeria"],["NU","Niue"],["NF","Norfolk Island"],["MP","Northern Mariana Islands (the)"],["NO","Norway"],["OM","Oman"],["PK","Pakistan"],["PW","Palau"],["PS","Palestine, State of"],["PA","Panama"],["PG","Papua New Guinea"],["PY","Paraguay"],["PE","Peru"],["PH","Philippines (the)"],["PN","Pitcairn"],["PL","Poland"],["PT","Portugal"],["PR","Puerto Rico"],["QA","Qatar"],["MK","Republic of North Macedonia"],["RO","Romania"],["RU","Russian Federation (the)"],["RW","Rwanda"],["RE","R\xe9union"],["BL","Saint Barth\xe9lemy"],["SH","Saint Helena, Ascension and Tristan da Cunha"],["KN","Saint Kitts and Nevis"],["LC","Saint Lucia"],["MF","Saint Martin (French part)"],["PM","Saint Pierre and Miquelon"],["VC","Saint Vincent and the Grenadines"],["WS","Samoa"],["SM","San Marino"],["ST","Sao Tome and Principe"],["SA","Saudi Arabia"],["SN","Senegal"],["RS","Serbia"],["SC","Seychelles"],["SL","Sierra Leone"],["SG","Singapore"],["SX","Sint Maarten (Dutch part)"],["SK","Slovakia"],["SI","Slovenia"],["SB","Solomon Islands"],["SO","Somalia"],["ZA","South Africa"],["GS","South Georgia and the South Sandwich Islands"],["SS","South Sudan"],["ES","Spain"],["LK","Sri Lanka"],["SD","Sudan (the)"],["SR","Suriname"],["SJ","Svalbard and Jan Mayen"],["SE","Sweden"],["CH","Switzerland"],["SY","Syrian Arab Republic"],["TW","Taiwan (Province of China)"],["TJ","Tajikistan"],["TZ","Tanzania, United Republic of"],["TH","Thailand"],["TL","Timor-Leste"],["TG","Togo"],["TK","Tokelau"],["TO","Tonga"],["TT","Trinidad and Tobago"],["TN","Tunisia"],["TR","Turkey"],["TM","Turkmenistan"],["TC","Turks and Caicos Islands (the)"],["TV","Tuvalu"],["UG","Uganda"],["UA","Ukraine"],["AE","United Arab Emirates (the)"],["GB","United Kingdom of Great Britain and Northern Ireland (the)"],["UM","United States Minor Outlying Islands (the)"],["US","United States of America - USA (the)"],["UY","Uruguay"],["UZ","Uzbekistan"],["VU","Vanuatu"],["VE","Venezuela (Bolivarian Republic of)"],["VN","Viet Nam"],["VG","Virgin Islands (British)"],["VI","Virgin Islands (U.S.)"],["WF","Wallis and Futuna"],["EH","Western Sahara"],["YE","Yemen"],["ZM","Zambia"],["ZW","Zimbabwe"],["AX","\xc5land Islands"]]),f=new Map([["1",{dataField:"percent",sortDirection:n.ASC,displayText:"Deaths Percentage: ascending"}],["2",{dataField:"percent",sortDirection:n.DESC,displayText:"Deaths Percentage: descending"}],["3",{dataField:"cumDeaths",sortDirection:n.ASC,displayText:"Cumulative Deaths: ascending"}],["4",{dataField:"cumDeaths",sortDirection:n.DESC,displayText:"Cumulative Deaths: descending"}],["5",{dataField:"cumConfirmed",sortDirection:n.ASC,displayText:"Cumulative Cases: ascending"}],["6",{dataField:"cumConfirmed",sortDirection:n.DESC,displayText:"Cumulative Cases: descending"}],["7",{dataField:"deaths",sortDirection:n.ASC,displayText:"New Deaths: ascending"}],["8",{dataField:"deaths",sortDirection:n.DESC,displayText:"New Deaths: descending"}],["9",{dataField:"confirmed",sortDirection:n.ASC,displayText:"New Cases: ascending"}],["10",{dataField:"confirmed",sortDirection:n.DESC,displayText:"New Cases: descending"}]]);function S(e){var a=new Map,t=function(e){var a=new Map;return e.dimensions.forEach((function(e,t){return a.set(C(e.name),t)})),e.metrics.forEach((function(e,t){return a.set(C(e.name),t+3)})),a}(e);return e.rows.forEach((function(e){var n=t.get("country");if(void 0===n)throw new Error("Country index does not exist in indices map");var r=function(e,a){var t={day:0,country:"",region:"",deaths:0,cumDeaths:0,confirmed:0,cumConfirmed:0,percent:0};return a.forEach((function(a,n){return t[n]=e[a]})),t}(e,t),o=e[n],l=a.get(o);void 0===l?a.set(o,[r]):l.push(r)})),a}function g(e,a,t){var r=[];""===a?r=e:e.forEach((function(e){(b.get(e.country)||e.country).toLowerCase().startsWith(a.toLowerCase())&&r.push(e)}));var o=f.get(t);if(!o)throw new Error("Sort key ".concat(t," not found in sorting map."));return function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.ASC,r=e.slice();return r.sort((function(e,r){return t===n.ASC?e[a]-r[a]:r[a]-e[a]})),r}(r,o.dataField,o.sortDirection)}function C(e){switch(e){case"day":return"day";case"Country":return"country";case"Region":return"region";case"Deaths":return"deaths";case"Cumulative Deaths":return"cumDeaths";case"Confirmed":return"confirmed";case"Cumulative Confirmed":return"cumConfirmed";default:throw new Error("Unrecognized column name: "+e)}}var E=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){var e=g(this.props.countryStats,this.props.filterText,this.props.sortKey),a=[];return e.forEach((function(e){var t=b.get(e.country)||e.country;a.push(o.a.createElement("tr",{role:"row",className:"country-table__row",key:e.country},o.a.createElement("td",{role:"cell",className:"country-table__cell"},t),o.a.createElement("td",{role:"cell",className:"country-table__cell"},e.cumConfirmed.toLocaleString()),o.a.createElement("td",{role:"cell",className:"country-table__cell"},e.cumDeaths.toLocaleString()),o.a.createElement("td",{role:"cell",className:"country-table__cell"},e.confirmed.toLocaleString()),o.a.createElement("td",{role:"cell",className:"country-table__cell"},e.deaths.toLocaleString()),o.a.createElement("td",{role:"cell",className:"country-table__cell"},0===e.percent?"0":e.percent.toFixed(2),"%")))})),o.a.createElement("table",{role:"table",className:"country-table"},o.a.createElement("caption",{className:"country-table__caption"},"Country Statistics"),o.a.createElement("thead",{className:"country-table__thead"},o.a.createElement("tr",{role:"row",className:"country-table__tr"},o.a.createElement("th",{role:"columnheader",className:"country-table__th"},"Country"),o.a.createElement("th",{role:"columnheader",className:"country-table__th"},"Cumulative cases"),o.a.createElement("th",{role:"columnheader",className:"country-table__th"},"Cumulative deaths"),o.a.createElement("th",{role:"columnheader",className:"country-table__th"},"New cases"),o.a.createElement("th",{role:"columnheader",className:"country-table__th"},"New deaths"),o.a.createElement("th",{role:"columnheader",className:"country-table__th"},"Percent cumulative deaths / cases"))),o.a.createElement("tbody",{className:"country-table__tbody"},a))}}]),t}(o.a.Component),y=(t(27),function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).handleSubmit=function(e){e.preventDefault();var a=document.getElementById("search-box");a&&a.blur()},e.handleFilterTextChange=function(a){e.props.onFilterTextChange(a.currentTarget.value)},e.handleSortOrderChange=function(a){e.props.onSortOrderChange(a.currentTarget.value)},e}return Object(u.a)(t,[{key:"render",value:function(){var e=[];return f.forEach((function(a,t){e.push(o.a.createElement("option",{key:t,value:t},a.displayText))})),o.a.createElement("form",{className:"country-filter-form",onSubmit:this.handleSubmit},o.a.createElement("input",{className:"country-filter-form__input","aria-label":"Filter by country name",autoCorrect:"off",id:"search-box",maxLength:20,onChange:this.handleFilterTextChange,placeholder:"Search country...",type:"search",value:this.props.filterText}),o.a.createElement("label",{className:"country-filter-form__sort-options-label"},"Sort By",o.a.createElement("select",{className:"country-filter-form__sort-options",name:"sort-order",id:"sort-order",onChange:this.handleSortOrderChange},e)))}}]),t}(o.a.Component)),N=(t(28),function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("table",{role:"table",className:"global-table"},o.a.createElement("caption",{className:"global-table__caption"},"Global Statistics"),o.a.createElement("tbody",null,o.a.createElement("tr",{className:"global-table__row"},o.a.createElement("th",{scope:"row",className:"global-table__th"},"Cumulative cases"),o.a.createElement("td",{role:"cell",className:"global-table__cell"},this.props.globalData.cumConfirmed.toLocaleString())),o.a.createElement("tr",{className:"global-table__row"},o.a.createElement("th",{scope:"row",className:"global-table__th"},"Cumulative deaths"),o.a.createElement("td",{className:"global-table__cell"},this.props.globalData.cumDeaths.toLocaleString())),o.a.createElement("tr",{className:"global-table__row"},o.a.createElement("th",{scope:"col",className:"global-table__th"},"New cases"),o.a.createElement("td",{className:"global-table__cell"},this.props.globalData.confirmed.toLocaleString())),o.a.createElement("tr",{className:"global-table__row"},o.a.createElement("th",{scope:"col",className:"global-table__th"},"New deaths"),o.a.createElement("td",{className:"global-table__cell"},this.props.globalData.deaths.toLocaleString())),o.a.createElement("tr",{className:"global-table__row"},o.a.createElement("th",{scope:"col",className:"global-table__th"},"Percent cumulative deaths / cases"),o.a.createElement("td",{className:"global-table__cell"},this.props.globalData.percent.toFixed(2),"%"))))}}]),t}(o.a.Component)),v=(t(29),function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).handleFilterTextChange=function(e){return n.setState({filterText:e})},n.handleSortOrderChange=function(e){return n.setState({sortKey:e})},n.state={filterText:"",sortKey:"1"},n}return Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("section",{className:"dashboard"},o.a.createElement(N,{globalData:this.props.parsedStatsData.global}),o.a.createElement("hr",{className:"dashboard__section-divider"}),o.a.createElement(y,{filterText:this.state.filterText,onFilterTextChange:this.handleFilterTextChange,onSortOrderChange:this.handleSortOrderChange}),o.a.createElement(E,{filterText:this.state.filterText,countryStats:this.props.parsedStatsData.country,sortKey:this.state.sortKey}))}}]),t}(o.a.Component)),_=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"The Graph Page"))}}]),t}(o.a.Component),M=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={data:null,countryStatsMap:null,parsedStats:null},n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://dashboards-dev.sprinklr.com/data/9043/global-covid19-who-gis.json").then((function(e){return e.json()})).then((function(a){console.log(a.lastUpdate);var t=S(a),n=function(e){var a={deaths:0,cumDeaths:0,confirmed:0,cumConfirmed:0,percent:0},t={global:a,regional:new Map,country:[]};return e.forEach((function(e,n){var r=e[e.length-1];r.percent=r.cumDeaths/r.cumConfirmed*100,t.country.push(r),a.deaths+=r.deaths,a.cumDeaths+=r.cumDeaths,a.confirmed+=r.confirmed,a.cumConfirmed+=r.cumConfirmed})),a.percent=a.cumDeaths/a.cumConfirmed*100,t}(t);e.setState({data:a,countryStatsMap:t,parsedStats:n})})).catch((function(e){console.log("Error:",e);var a=document.getElementById("load-msg");null!==a&&(a.innerText="Error during data fetch. Try later or contact author.")}))}},{key:"render",value:function(){var e,a=null!==this.state.data;return o.a.createElement("div",{className:"App"},o.a.createElement(p,{date:null===(e=this.state.data)||void 0===e?void 0:e.lastUpdateTime}),o.a.createElement("div",{role:"main",className:"main"},a?o.a.createElement(h.d,null,o.a.createElement(h.b,{exact:!0,path:"/:countryCode",component:_}),o.a.createElement(h.b,{exact:!0,path:"/"},o.a.createElement(v,{parsedStatsData:this.state.parsedStats})),o.a.createElement(h.b,{path:"*"},o.a.createElement(h.a,{to:"/"}))):o.a.createElement("p",{className:"main__loading",id:"load-msg"},"Data loading...")),o.a.createElement("footer",{className:"footer"},o.a.createElement("span",null,"Data Source: "),o.a.createElement("a",{href:"https://covid19.who.int/",rel:"noreferrer noopener",target:"_blank"},"https://covid19.who.int"),o.a.createElement("span",{className:"footer__optional-text"}," (World Health Organization)")))}}]),t}(o.a.Component);i.a.render(o.a.createElement(c.a,null,o.a.createElement(M,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.92348cea.chunk.js.map